/* ================================ */
/* === STYLING DASAR & TEMA === */
/* ================================ */

/* Variabel CSS untuk tema (Dark Mode Default - MENYERUPAI CONTOH) */
:root {
    /* Backgrounds */
    --bg: #141414;               /* Background utama (Hitam/Sangat gelap) */
    --panel: #222222;            /* KEMBALIKAN: Warna panel/kartu (Abu-abu gelap) */
    --code: #1a1a1a;             /* Warna background input/kode */

    /* Texts */
    --ink: #f1f1f1;              /* Warna teks utama (Putih pudar) */
    --muted: #aaaaaa;           /* Warna teks sekunder/redup (Abu-abu terang) */

    /* Accents (Dominan Oranye) */
    --accent: #ff9900;           /* Warna aksen utama (Oranye PH) */
    --accent-rgb: 255, 153, 0;  /* Versi RGB dari aksen utama */
    --accent-2: #ff9900;         /* Warna aksen sekunder (Sama, oranye) */
    --accent-2-rgb: 255, 153, 0;/* Versi RGB dari aksen sekunder */

    /* Borders & Grids */
    --grid: #313131;             /* Warna border/garis pemisah */

    /* K-Map Specific */
    --on: #1f7a55;               /* KEMBALIKAN: Warna sel K-Map 'ON' (hijau gelap) */
    --on-2: #2b966a;             /* KEMBALIKAN: Warna sel K-Map 'ON' (hijau terang) */
    --off: #2a2a2a;              /* Warna sel K-Map 'OFF' */
    /* Warna 'd' tidak pakai variabel lagi */
    --badge: #333333;            /* Warna background tombol sekunder/badge */

     /* Others */
    --warn: #ff9900;             /* Warna background peringatan/error (Oranye) */
    --warn-text: #111;           /* Warna teks peringatan/error (Hitam agar kontras) */
}

/* Variabel CSS untuk TEMA TERANG (LIGHT MODE) - KEMBALIKAN KE ASLI */
body.light-mode {
    --bg: #f4f7fa;
    --panel: #ffffff;
    --ink: #1a253c;
    --muted: #5a6b87;
    --accent: #28a745;           /* KEMBALIKAN: Aksen utama hijau */
    --accent-rgb: 40, 167, 69;
    --accent-2: #007bff;         /* KEMBALIKAN: Aksen sekunder biru */
    --accent-2-rgb: 0, 123, 255;
    --warn: #ffc107;             /* KEMBALIKAN: Peringatan kuning */
    --warn-text: #333;
    --grid: #adb5bd;
    --on: #28a745;               /* KEMBALIKAN: K-Map ON hijau */
    --on-2: #2dbc4e;
    --off: #e9ecef;              /* KEMBALIKAN: K-Map OFF abu terang */
    --badge: #e2e8f0;            /* KEMBALIKAN: Badge abu terang */
    --code: #f0f4f9;             /* KEMBALIKAN: Kode abu terang */
    background: var(--bg);
}

/* Reset dasar & box-sizing */
* { box-sizing: border-box; }

/* Styling dasar body - TANPA ANIMASI */
body { margin: 0; font: 14px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color: var(--ink); background: var(--bg); transition: background .3s ease, color .3s ease; }

/* Styling Header */
header {
    grid-area: header;
    padding: 16px 24px 16px 32px;
    border-bottom: 1px solid var(--grid);
    background-color: var(--panel); /* Header menggunakan warna panel */
    display: flex;
    justify-content: space-between;
    align-items: center;
}

/* --- Styling untuk judul menyerupai logo --- */
header h1 { display: flex; align-items: center; margin: 0; }
header h1 .logo-container { display: inline-flex; align-items: stretch; background-color: #000000; border-radius: 6px; font-size: 22px; letter-spacing: -0.5px; font-weight: 700; font-family: Arial, sans-serif; line-height: 1; overflow: hidden; }
header h1 .logo-part-black-bg { display: inline-flex; align-items: center; background-color: #000000; color: #FFFFFF; padding: 6px 4px 6px 10px; }
header h1 .logo-part-orange { display: inline-flex; align-items: center; background-color: var(--accent); color: #000000; padding: 6px 10px 6px 8px; }

/* Override logo di light mode (jika perlu) */
body.light-mode header h1 .logo-container { background-color: #000000; }
body.light-mode header h1 .logo-part-black-bg { background-color: #000000; color: #FFFFFF; }
body.light-mode header h1 .logo-part-orange { background-color: #ff9900; color: #000000; }

/* --- Logo Umum: Sembunyikan/Tampilkan Berdasarkan Tema --- */
.logo-dark-mode { display: block; }
.logo-light-mode { display: none; }
body.light-mode .logo-dark-mode { display: none; }
body.light-mode .logo-light-mode { display: flex; /* ... Gaya logo XVIDEOS ... */ }
/* ... (Gaya spesifik logo XVIDEOS .x-red, .s, .deco, dll.) ... */

/* ================================ */
/* === LAYOUT DASHBOARD (CSS GRID) === */
/* ================================ */
.dashboard-layout { display: grid; grid-template-columns: 320px 1fr; grid-template-rows: auto auto; grid-template-areas: "header header" "sidebar main"; min-height: 100vh; }
.sidebar { grid-area: sidebar; display: flex; flex-direction: column; gap: 16px; padding: 16px; border-right: 1px solid var(--grid); }
.main-content { grid-area: main; display: flex; flex-direction: column; gap: 16px; padding: 16px; }
.stats-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }
.results-grid { display: grid; grid-template-columns: 1.1fr 1fr; gap: 16px; align-items: start; }

/* ================================ */
/* === GAYA KOMPONEN & EFEK === */
/* ================================ */

/* Styling umum untuk Kartu/Panel */
.card { background: var(--panel); border: 1px solid var(--grid); border-radius: 14px; padding: 16px; box-shadow: 0 4px 12px rgba(0, 0, 0, .05); transition: all 0.2s ease-out; }
body.light-mode .card { background: var(--panel); border: 1px solid var(--grid); box-shadow: 0 4px 12px rgba(0, 0, 0, .05); }

/* Efek hover pada kartu */
.card:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(0, 0, 0, .1); border-color: var(--accent-2); }
body.light-mode .card:hover { box-shadow: 0 10px 20px rgba(0, 0, 0, .07); border-color: var(--accent-2); }

/* Judul di dalam kartu */
.card h2 { margin: 0 0 12px; font-size: 16px; border-bottom: 1px solid var(--grid); padding-bottom: 8px; }

/* Styling khusus untuk kartu statistik */
.card-stat { padding: 14px 18px; }
.card-stat label { font-size: 13px; color: var(--muted); }
.card-stat .stat-value { font-size: 18px; font-weight: 600; display: block; margin-top: 4px; background: none; padding: 0; border-radius: 0; color: var(--ink); }
.card-stat .stat-benchmark { display: block; font-size: 13px; color: var(--muted); font-weight: 500; margin-top: 2px; }

/* Styling untuk grup field */
.field { display: grid; gap: 8px; margin: 10px 0 14px; }
.card h2 + .field { margin-top: 10px; }

/* Styling Label */
label { color: var(--muted); font-size: 12px; font-weight: 500; }

/* Styling Input teks, textarea, dan select */
input[type=text], textarea, select { width: 100%; padding: 10px 12px; background: var(--code); color: var(--ink); border: 1px solid var(--grid); border-radius: 10px; outline: none; transition: border-color .2s ease, box-shadow .2s ease; }

/* Efek focus */
input[type=text]:focus, textarea:focus, select:focus { border-color: var(--accent-2); box-shadow: 0 0 0 3px rgba(var(--accent-2-rgb), 0.25); }
body.light-mode input[type=text]:focus, body.light-mode textarea:focus, body.light-mode select:focus { border-color: var(--accent-2); box-shadow: 0 0 0 3px rgba(var(--accent-2-rgb), 0.25); }

/* Styling grup tombol */
.actions { display: flex; flex-wrap: wrap; gap: 8px; }
.sidebar .field:has(#btn-ex1) .actions { display: grid; grid-template-columns: repeat(5, 1fr); gap: 6px; }

/* Styling Tombol Umum (Mode Gelap = Oranye) */
button { background: var(--accent); border: 1px solid #cc7a00; color: #111; border-radius: 10px; padding: 10px 14px; cursor: pointer; font-weight: 500; transition: all 0.2s ease-out; will-change: transform, background, box-shadow; }

/* Efek Hover Tombol (Mode Gelap) */
button:not(:disabled):hover { transform: translateY(-2px); filter: brightness(1.1); box-shadow: 0 4px 15px -2px rgba(var(--accent-rgb), 0.3); }

/* Override tombol untuk light mode (Kembali ke Biru) */
body.light-mode button { background: var(--accent-2); border-color: #0069d9; color: white; }
body.light-mode button:not(:disabled):hover { filter: brightness(1.1); box-shadow: 0 4px 15px -2px rgba(var(--accent-2-rgb), 0.4); }

/* Styling Tombol Sekunder (Mode Gelap = Abu-abu) */
button.secondary { background: var(--badge); border-color: var(--grid); color: var(--ink); }
button.secondary:not(:disabled):hover { filter: brightness(1.1); box-shadow: 0 4px 15px -2px rgba(150, 160, 180, 0.1); }

/* Override Tombol Sekunder untuk light mode (Abu-abu terang) */
body.light-mode button.secondary { background: var(--badge); border-color: var(--grid); color: var(--ink); }
body.light-mode button.secondary:not(:disabled):hover { filter: brightness(1.05); box-shadow: 0 4px 15px -2px rgba(150, 160, 180, 0.1); }

/* Styling Tombol Mini */
button.mini-btn { padding: 4px 10px; font-size: 12px; }

/* Styling Tombol Disabled */
button:disabled { opacity: 0.6; cursor: default; }

/* Styling Tabel */
table { width: 100%; border-collapse: collapse; }
th, td { text-align: center; padding: 8px; border-bottom: 1px solid var(--grid); }

/* Wrapper Tabel Kebenaran */
.tt { overflow-x: auto; border: 1px solid var(--grid); border-radius: 10px; }

/* ================================ */
/* === K-MAP BARU (GRID & LABELS) === */
/* ================================ */
/* Container utama K-Map */
.kmap-container {
    display: grid;
    grid-template-areas:
        "corner top"
        "left   map";
    /* PERBAIKAN: Tentukan ukuran kolom/baris label secara eksplisit */
    grid-template-columns: min-content 1fr; /* Kolom kiri (label) selebar kontennya */
    grid-template-rows: min-content 1fr;    /* Baris atas (label) setinggi kontennya */
    gap: 6px;
    margin-top: 6px;
}

/* Pojok kiri atas K-Map */
.kmap-corner {
    grid-area: corner;
    display: grid;
    place-items: center;
    font-size: 12px;
    font-weight: 600;
    color: var(--muted);
    padding: 4px 8px;
    min-width: 40px; /* Lebar minimum agar tidak terlalu sempit */
}

/* Area untuk label atas (kolom) */
.kmap-label-top {
    grid-area: top;
    display: grid; /* Tetap grid */
    gap: 6px;
    /* Lebar kolom diatur oleh JS, tidak perlu di sini */
}

/* Area untuk label kiri (baris) */
.kmap-label-left {
    grid-area: left;
    display: grid; /* Tetap grid */
    gap: 6px;
    /* Tinggi baris diatur oleh JS, tidak perlu di sini */
}

/* Styling untuk label Gray code */
.kmap-axis-label {
    display: grid;
    place-items: center;
    font-size: 12px;
    font-weight: 600;
    color: var(--muted);
    background: var(--code);
    border-radius: 6px;
    border: 1px solid var(--grid);
    padding: 4px;
    /* Ukuran min-height/min-width bisa ditambahkan jika perlu
       agar konsisten dengan sel (44px/56px) dikurangi padding */
    min-height: 34px; /* (44px - 2*padding - 2*border) */
}

/* Wrapper untuk sel K-Map */
.kmap-wrapper {
    grid-area: map;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    border: 1px solid var(--grid);
    border-radius: 10px;
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.01), rgba(255, 255, 255, 0.00));
    padding: 0; /* <-- PASTIKAN TIDAK ADA PADDING DI SINI */
}

/* Grid internal untuk sel K-Map */
.kmap {
    display: grid;
    gap: 6px;
    align-content: start;
    padding: 8px; /* <-- PADDING DI SINI SAJA */
    position: relative;
    grid-auto-flow: row;
    min-width: fit-content;
}

/* Styling Sel K-Map */
.kcell { width: 56px; height: 44px; display: grid; place-items: center; border-radius: 10px; border: 1px solid var(--grid); background: var(--off); color: var(--ink); cursor: pointer; user-select: none; position: relative; transition: transform .1s ease, background .2s ease, border-color .2s ease; font-size: 18px; font-weight: 600; padding-bottom: 10px; }
.kcell.on { background: linear-gradient(180deg, var(--on-2), var(--on)); border-color: #2fb07c; color: white; } /* Hijau di dark */
body.light-mode .kcell.on { background: linear-gradient(180deg, var(--on-2), var(--on)); border-color: var(--accent); color: white; } /* Hijau di light */
.kcell.dont-care { background: #6b4220; border-color: #9c5b25; color: #e8eefc; font-style: italic; }
body.light-mode .kcell.dont-care { background: #fff3cd; border-color: #ffeeba; color: #5a6b87; font-style: italic; }
.kcell:hover { transform: translateY(-1px) scale(1.02); border-color: var(--accent); } /* Oranye di dark */
body.light-mode .kcell:hover { border-color: var(--accent); } /* Hijau di light */
.kcell::after { content: attr(data-index); position: absolute; bottom: 4px; left: 50%; transform: translateX(-50%); color: var(--muted); font-size: 11px; font-weight: 400; opacity: 0.7; }

/* Styling blok kode */
code, .code { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; background: var(--code); border: 1px solid var(--grid); color: var(--ink); padding: 8px 10px; border-radius: 10px; display: block; line-height: 1.4; min-height: 38px; }
.code-inline { display: inline-block; padding: 2px 6px; min-height: 0; border-radius: 6px; font-size: 13px; line-height: 1.2; font-weight: 500; }
.mini { font-size: 12px; color: var(--muted); }
.sep { height: 1px; background: var(--grid); margin: 16px 0; }

/* Styling kotak pesan error */
.error-msg { background: var(--warn); color: var(--warn-text); padding: 10px 12px; border-radius: 8px; margin-top: 12px; font-weight: 500; border: 1px solid #cc7a00; /* Oranye gelap */ }
body.light-mode .error-msg { background: var(--warn); color: var(--warn-text); border: 1px solid var(--grid); } /* Kuning, border abu */

/* Toggle Tema */
.theme-toggle { display: flex; align-items: center; gap: 8px; font-size: 12px; }
.toggle-switch { position: relative; display: inline-block; width: 40px; height: 22px; }
.toggle-switch input { opacity: 0; width: 0; height: 0; }
.slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: var(--badge); transition: .4s; border-radius: 22px; }
.slider:before { position: absolute; content: ""; height: 16px; width: 16px; left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; }
input:checked+.slider { background-color: var(--accent); } /* Oranye di dark */
input:checked+.slider:before { transform: translateX(18px); }
body.light-mode input:checked+.slider { background-color: var(--accent); } /* Hijau di light */

/* ================================ */
/* === RESPONSIVE === */
/* ================================ */
/* (Tidak diubah) */
@media (max-width: 980px) { /* ... */ }

/* ================================ */
/* === STYLING KHUSUS CETAK === */
/* ================================ */
/* (Tidak diubah) */
@media print { /* ... */ }

/* Animasi strobe DIHAPUS */
/* @keyframes strobeEffect { ... } */