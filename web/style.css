/* Variabel CSS untuk tema (Dark Mode Default - Hitam/Oranye) */
:root {
    /* Backgrounds */
    --bg: #141414;
    --panel: #222222; /* Tabel */
    --code: #1a1a1a;

    /* Texts */
    --ink: #f1f1f1;
    --muted: #aaaaaa;

    /* Accents (Dominan Oranye) */
    --accent: #ff9900;
    --accent-rgb: 255, 153, 0;
    --accent-2: #ff9900;
    --accent-2-rgb: 255, 153, 0;

    /* Borders & Grids */
    --grid: #313131;

    /* K-Map Specific */
    --on: #1f7a55; 
    --on-2: #2b966a;
    --off: #2a2a2a;
    /* Warna 'd'*/
    --badge: #333333;

     /* Lainnya */
    --warn: #ff9900;
    --warn-text: #111;
}

/* Variabel CSS untuk TEMA TERANG */
body.light-mode {
    --bg: #002d72;               /* Background */
    --panel: #1a1a1a;            /* Panel */
    --ink: #ffffff;              /* Teks judul */
    --muted: #bbbbbb;            /* Teks judul */   

    /* Grid panel & Tombol Evaluasi & Sederhanakan SOP */  
    --accent: #007bff;           /*Warna tombol */     
    --accent-rgb: 0, 123, 255;
    --accent-2: #007bff;         /*warna grid panel */
    --accent-2-rgb: 0, 123, 255;

    /*Kotak & teks error */
    --warn: #ffc107;             /* Peringatan kuning */
    --warn-text: #000;           /* Teks hitam */

    /*Grid tombol */
    --grid: #333333;             

    /* KMAP */
    --on: #007bff;               /* K-Map ON */
    --on-2: #3395ff;             /* Gradien */
    --off: #2a2a2a;              /* K-Map OFF abu gelap */ 

    /* Tombol lainnya */
    --badge: #444444;            /* Tombol */
    --code: #111111;             /* Kotak input */
    background: var(--bg);
}

/* Reset dasar & box-sizing */
* { 
    box-sizing: border-box; 
}

/* Styling dasar body */
body { 
    margin: 0; 
    font: 14px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; 
    color: var(--ink); 
    background: var(--bg); 
    transition: background .3s ease, color .3s ease; 
}

/* Styling Header */
header {
    grid-area: header;
    padding: 16px 24px 16px 32px;
    border-bottom: 1px solid var(--grid);
    background-color: var(--panel); 
    display: flex;
    justify-content: space-between;
    align-items: center;
}

/* Header mode light-mode */
body.light-mode header {
    background-color: #002d72;
    border-bottom: 1px solid #001f4d; /* Grid line */
}


/* --- Styling judul */
header h1 { 
    display: flex; 
    align-items: baseline; 
    margin: 0; 
} 

/* Container utama logo */
#logo-tifhub {
    display: inline-flex;
    align-items: stretch; 
    border-radius: 6px;   
    font-family: Arial, sans-serif; 
    line-height: 1;
    overflow: hidden; ;
    background-color: transparent;
}

/* Gaya Default Logo 2 mode */
#logo-tifhub span { 
    display: inline-flex;
    align-items: center;
    font-size: 22px;
    letter-spacing: -0.5px;
    font-weight: 700;
}

/* Logo dark mode "TIF" */
#logo-tifhub span:first-child { 
    background-color: #000000; 
    color: #FFFFFF; 
    padding: 6px 4px 6px 10px; 
    /* Border & radius */
    border-radius: 0;
    margin-right: 0; 
}

/* Logo dark mode "HUB" */
#logo-tifhub span:last-child { 
    background-color: var(--accent); 
    color: #000000; 
    padding: 6px 10px 6px 8px; 
     border-radius: 0;
}

/* Logo light mode */
body.light-mode #logo-tifhub {
     border-radius: 0;
     background-color: transparent;
     overflow: visible; 
     font-size: 28px; 
     font-weight: 900;
     letter-spacing: -1px;
     font-family: 'Arial Black', Gadget, sans-serif;
}

/*Style logo */
body.light-mode #logo-tifhub span { 
    background-color: transparent;
    padding: 0;
    border-radius: 0;
    margin: 0 1px; 
    color: #4dabf7; 

    /* Efek Bevel & Glossy  */
    text-shadow:
        0px -1px 0px rgba(255, 255, 255, 0.7), 
        0px 1px 0px rgba(180, 220, 255, 0.5), 
        0px 2px 2px rgba(0, 45, 114, 0.8),    
        1px 3px 3px rgba(0, 20, 50, 0.6);   
    position: static;
    overflow: visible;
}

/* ================================ */
/* === LAYOUT DASHBOARD (CSS GRID) === */
/* ================================ */
.dashboard-layout { 
    display: grid; 
    grid-template-columns: 320px 1fr; 
    grid-template-rows: auto auto; 
    grid-template-areas: "header header" "sidebar main"; min-height: 100vh; 
}

.sidebar { 
    grid-area: sidebar; 
    display: flex; 
    flex-direction: column; 
    gap: 16px; padding: 16px; 
    border-right: 1px solid var(--grid); 
}
.main-content { 
    grid-area: main; 
    display: flex; 
    flex-direction: column; 
    gap: 16px; padding: 16px; 
}

.stats-grid { 
    display: grid; 
    grid-template-columns: repeat(3, 1fr); 
    gap: 16px; 
}

.results-grid { 
    display: grid; 
    grid-template-columns: 1.1fr 1fr; 
    gap: 16px; align-items: start; 
}

/* ================================ */
/* === GAYA KOMPONEN & EFEK === */
/* ================================ */

/* Styling Panel */
.card { 
    background: #222222; 
    border: 1px solid var(--grid); 
    border-radius: 8px; 
    padding: 16px; 
    box-shadow: 0 1px 2px rgba(0, 0, 0, .1); 
    transition: all 0.2s ease-out; 
}

/* Styling panel light mode */
body.light-mode .card { 
    background: var(--panel); 
    border: 1px solid var(--grid); 
    border-radius: 4px; 
    box-shadow: none; 
}

/* Efek hover pada panel */
.card:hover { 
    transform: translateY(-2px); 
    box-shadow: 0 4px 10px rgba(0, 0, 0, .15); 
    border-color: var(--accent-2); 
}

body.light-mode .card:hover { 
    transform: none; 
    box-shadow: none; 
    border-color: var(--accent-2); 
}

/* Judul di dalam panel */
.card h2 { 
    margin: 0 0 12px; 
    font-size: 16px; 
    border-bottom: 1px solid var(--grid); 
    padding-bottom: 8px; 
    color: var(--ink); 
}

/* Judul di dalam panel light-mode */
body.light-mode .card h2 { 
    color: var(--ink); 
    font-weight: bold; 
}

/* Styling khusus untuk panel statistik */
.card-stat { 
    padding: 14px 18px; 
}

.card-stat label { 
    font-size: 13px; 
    color: var(--muted); 
}

.card-stat .stat-value { 
    font-size: 18px; 
    font-weight: 600; 
    display: block; 
    margin-top: 4px; 
    background: none; 
    padding: 0; 
    border-radius: 0; 
    color: var(--ink); 
}

.card-stat .stat-benchmark { 
    display: block; 
    font-size: 13px; 
    color: var(--muted); 
    font-weight: 500; 
    margin-top: 2px; 
}

/* Styling untuk grup field */
.field { 
    display: grid; 
    gap: 8px; 
    margin: 10px 0 14px; 
}

.card h2 + .field { 
    margin-top: 10px; 
}

/* Styling Label */
label { 
    color: var(--muted); 
    font-size: 12px; 
    font-weight: 500; 
}

/* Styling Input teks, textarea, dan select */
input[type=text], textarea, select { width: 100%; 
    padding: 10px 12px; 
    background: var(--code); 
    color: var(--ink); 
    border: 1px solid var(--grid); 
    border-radius: 6px; outline: none; 
    transition: border-color .2s ease, box-shadow .2s ease; 
}

body.light-mode input[type=text], body.light-mode textarea, body.light-mode select { 
    background: var(--code); 
    color: var(--ink); 
    border: 1px solid var(--grid); 
}

/* Efek focus */
input[type=text]:focus, 
textarea:focus, 
select:focus { 
    border-color: var(--accent-2); 
    box-shadow: 0 0 0 3px rgba(var(--accent-2-rgb), 0.25); 
}

body.light-mode input[type=text]:focus, 
body.light-mode textarea:focus, 
body.light-mode select:focus { 
    border-color: var(--accent-2); 
    box-shadow: 0 0 0 3px rgba(var(--accent-2-rgb), 0.25); 
}

/* Styling grup tombol */
.actions { 
    display: flex; 
    flex-wrap: wrap; 
    gap: 8px; 
}

.sidebar .field:has(#btn-ex1) .actions { 
    display: grid; 
    grid-template-columns: repeat(5, 1fr); 
    gap: 6px; 
}

/* Styling Tombol Umum Mode Gelap */
button { 
    background: var(--accent); 
    border: 1px solid #cc7a00; 
    color: #111; 
    border-radius: 6px; 
    padding: 10px 14px; 
    cursor: pointer; 
    font-weight: 600; 
    transition: all 0.2s ease-out; 
    will-change: transform, background, box-shadow; 
}

/* Efek Hover Tombol (Mode Gelap) */
button:not(:disabled):hover { 
    transform: translateY(-1px); 
    filter: brightness(1.1); 
    box-shadow: 0 2px 8px -1px rgba(var(--accent-rgb), 0.3); 
}

/* Override tombol untuk light mode */
body.light-mode button { 
    background: var(--accent); 
    border-color: #0069d9;  
    color: white; border-radius: 4px; 
}

body.light-mode button:not(:disabled):hover { 
    filter: brightness(1.1); 
    box-shadow: 0 2px 8px -1px rgba(var(--accent-rgb), 0.4); 
}

/* Styling Tombol Sekunder mode gelap */
button.secondary { 
    background: var(--badge); 
    border-color: var(--grid); 
    color: var(--ink); 
    font-weight: 500; 
}

button.secondary:not(:disabled):hover { 
    filter: brightness(1.1); 
    box-shadow: 0 2px 8px -1px rgba(150, 160, 180, 0.1); 
}

/* Override Tombol Sekunder untuk light mode (Abu-abu gelap) */
body.light-mode button.secondary { 
    background: var(--badge); 
    border-color: var(--grid); 
    color: var(--ink); 
    font-weight: 500; 
}

body.light-mode button.secondary:not(:disabled):hover { 
    filter: brightness(1.05); 
    box-shadow: 0 2px 8px -1px rgba(150, 160, 180, 0.1); 
}

/* Styling Tombol Mini */
button.mini-btn { 
    padding: 4px 10px; 
    font-size: 12px; 
}

/* Styling Tombol Disabled */
button:disabled { 
    opacity: 0.6; cursor: default;
}

/* Styling Tabel */
table { 
    width: 100%; 
    border-collapse: collapse; 
}

th, td { 
    text-align: center; 
    padding: 8px; 
    border-bottom: 1px solid var(--grid); 
}

body.light-mode th { 
    background-color: transparent; 
    font-weight: bold;
}

body.light-mode td { 
    border-bottom: 1px solid var(--grid);
}

/* Wrapper Tabel Kebenaran */
.tt { 
    overflow-x: auto; 
    border: 1px solid var(--grid); 
    border-radius: 6px; 
}

/* ================================ */
/* === K-MAP BARU (GRID & LABELS) === */
/* ================================ */

.kmap-container { 
    display: grid; 
    grid-template-areas: "corner top" "left   map"; 
    grid-template-columns: min-content 1fr; 
    grid-template-rows: min-content 1fr; gap: 6px; 
    margin-top: 6px; 
}

.kmap-corner { 
    grid-area: corner; 
    display: grid; 
    place-items: center; 
    font-size: 12px; 
    font-weight: 600; 
    color: var(--muted); 
    padding: 4px 8px; 
    min-width: 40px; 
}

.kmap-label-top { 
    grid-area: top; 
    display: grid; 
    gap: 6px; 
}

.kmap-label-left { 
    grid-area: left; 
    display: grid; 
    gap: 6px; 
}

.kmap-axis-label {
     display: grid; 
     place-items: center; 
     font-size: 12px; 
     font-weight: 600; 
     color: var(--muted); 
     background: var(--code); 
     border-radius: 4px; 
     border: 1px solid var(--grid); 
     padding: 4px;
     min-height: 34px; 
    }

.kmap-wrapper { 
    grid-area: map; 
    overflow-x: auto; 
    -webkit-overflow-scrolling: touch; 
    border: 1px solid var(--grid); 
    border-radius: 6px; 
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.01), rgba(255, 255, 255, 0.00)); 
    padding: 0; 
}

.kmap { 
    display: grid; 
    gap: 6px; 
    align-content: start; 
    padding: 8px; 
    position: relative; 
    grid-auto-flow: row; 
    min-width: fit-content; 
}

/* Styling Sel K-Map */
.kcell { 
    width: 56px; 
    height: 44px; 
    display: grid; 
    place-items: center; 
    border-radius: 6px; 
    border: 1px solid var(--grid); 
    background: var(--off); 
    color: var(--ink); 
    cursor: pointer; 
    user-select: none; 
    position: relative; 
    transition: transform .1s ease, background .2s ease, border-color .2s ease; 
    font-size: 18px; 
    font-weight: 600; 
    padding-bottom: 10px; 
}

.kcell.on { 
    background: linear-gradient(180deg, var(--on-2), var(--on));
    border-color: #2fb07c; 
    color: white; 
}

/* Override K-Map ON untuk light mode (BIRU SANGAT TERANG) */
body.light-mode .kcell.on { 
    background: linear-gradient(180deg, var(--on-2), var(--on)); 
    border-color: var(--accent); 
    color: white; 
}

.kcell.dont-care { 
    background: #6b4220; 
    border-color: #9c5b25; 
    color: #e8eefc; font-style: italic; 
}

body.light-mode .kcell.dont-care { 
    background: #fff3cd; 
    border-color: #ffeeba; 
    color: #5a6b87; 
    font-style: italic; 
}

.kcell:hover { 
    transform: translateY(-1px) scale(1.02); 
    border-color: var(--accent); 
}

body.light-mode .kcell:hover { 
    border-color: var(--accent); 
}

.kcell::after { 
    content: attr(data-index); 
    position: absolute; 
    bottom: 4px; left: 50%; 
    transform: translateX(-50%); 
    color: var(--muted); 
    font-size: 11px; 
    font-weight: 400; opacity: 0.7; 
}

/* Styling blok kode */
code, .code { 
    font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; 
    background: var(--code); 
    border: 1px solid var(--grid); 
    color: var(--ink); 
    padding: 8px 10px; 
    border-radius: 6px; 
    display: block; 
    line-height: 1.4; 
    min-height: 38px;
}

.code-inline { 
    display: inline-block; 
    padding: 2px 6px; 
    min-height: 0; 
    border-radius: 4px; 
    font-size: 13px; 
    line-height: 1.2; 
    font-weight: 500; 
}

.mini { 
    font-size: 12px; 
    color: var(--muted); 
}

.sep { 
    height: 1px; 
    background: var(--grid); 
    margin: 16px 0; 
}

/* Styling kotak pesan error */
.error-msg { 
    background: var(--warn); 
    color: var(--warn-text); 
    padding: 10px 12px; 
    border-radius: 6px; 
    margin-top: 12px; 
    font-weight: 500; 
    border: 1px solid #cc7a00;  
}

body.light-mode .error-msg { 
    background: var(--warn); 
    color: var(--warn-text); 
    border: 1px solid var(--grid); 
} 

/* Toggle Tema */
.theme-toggle { 
    display: flex; 
    align-items: center; 
    gap: 8px; 
    font-size: 12px; 
}

.toggle-switch { 
    position: relative; 
    display: inline-block; 
    width: 40px; 
    height: 22px; 
}

.toggle-switch input { 
    opacity: 0; 
    width: 0; 
    height: 0; 
}

.slider { 
    position: absolute; 
    cursor: pointer; 
    top: 0; 
    left: 0; 
    right: 0; 
    bottom: 0; 
    background-color: var(--badge); 
    transition: .4s; 
    border-radius: 22px; 
}

.slider:before { 
    position: absolute; 
    content: ""; 
    height: 16px; 
    width: 16px; 
    left: 3px; 
    bottom: 3px; 
    background-color: white; 
    transition: .4s; 
    border-radius: 50%; 
}

input:checked+.slider { 
    background-color: var(--accent); 
} 

input:checked+.slider:before { 
    transform: translateX(18px); 
}

body.light-mode input:checked+.slider { 
    background-color: var(--accent); 
}

/* ================================ */
/* === RESPONSIVE === */
/* ================================ */
@media (max-width: 980px) {
    .dashboard-layout { 
        grid-template-columns: 1fr; 
        grid-template-areas: "header" "sidebar" "main"; 
        height: auto; 
        min-height: 100vh; 
    }

    .sidebar { 
        border-right: none; 
    }

    .stats-grid { 
        grid-template-columns: 1fr; 
    }

    .results-grid { 
        grid-template-columns: 1fr; 
        align-items: start; 
    }
}

/* ================================ */
/* === STYLING KHUSUS CETAK === */
/* ================================ */
@media print {
    body > header, body > .dashboard-layout > aside.sidebar, body > .dashboard-layout > .main-content > .stats-grid, body > .dashboard-layout > .main-content > .results-grid > .card:not(#kmap-print-card) { 
        display: none !important;
    }

    body, body > .dashboard-layout, body > .dashboard-layout > .main-content, body > .dashboard-layout > .main-content > .results-grid { 
        display: block !important; 
        padding: 0 !important; 
        margin: 0 !important; 
        border: none !important; 
        box-shadow: none !important; 
        background: #ffffff !important; 
        color: #000000 !important;
        animation: none !important; 
        }

    #kmap-print-card { 
        display: block !important; 
        visibility: visible !important; 
        width: 100% !important; 
        box-shadow: none !important; 
        border: 1px solid #999 !important; 
        page-break-inside: avoid; 
        margin: 0 !important; 
        padding: 16px !important; 
        background: #ffffff !important; 
        animation: none !important; 
    }

     #kmap-print-card * { 
        visibility: visible !important; 
        color: #000000 !important; 
    }

    .muted { 
        color: #555 !important; 
    }

    .kmap-container, .kmap { 
        display: grid !important; 
    }

    .kmap-axis-label, .kcell { 
        border: 1px solid #999 !important; 
        display: grid !important; 
        place-items: center !important; 
        background: #fff !important; 
        color: #000 !important; 
        padding-bottom: 0 !important; 
        height: 44px !important; 
        font-size: 14px !important; 
        font-weight: normal !important; 
    }

    .kcell.on { 
        background: #ccc !important; 
        color: #000 !important; 
        font-weight: bold !important; 
    }

     .kcell.dont-care { 
        background: #eee !important; 
        color: #555 !important; 
        font-style: italic;
    }

     .kcell::after { 
        color: #555 !important; 
        opacity: 1 !important; 
        font-size: 10px !important; 
        bottom: 2px !important; 
    }

    #kmap-print-card .actions, #kmap-print-card .field:has(#minterm-io), #kmap-print-card .field:has(#out-simplified) label { 
        display: none !important; 
    }

     #kmap-print-card #out-simplified { 
        display: block !important; 
        border: none !important; 
        padding: 0 !important; 
        margin-top: 10px !important; 
        background: none !important; 
        color: #000 !important; 
        font-size: 14px; }
}